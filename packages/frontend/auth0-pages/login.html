<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - Hackathon App</title>
  <!-- Material UI Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <!-- Roboto Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <style>
    :root {
      --primary-color: #47A248;
      --primary-light: #589636;
      --primary-dark: #2E6A2E;
      --secondary-color: #2F5AA8;
      --secondary-light: #4A7BD8;
      --secondary-dark: #1D3C72;
      --background-color: #FFFFFF;
      --surface-color: #F5F5F5;
      --error-color: #B00020;
      --text-color: #333333;
      --text-light: #666666;
      --success-color: #4CAF50;
      --warning-color: #FFC107;
      --info-color: #2196F3;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      font-size: 1rem;
      line-height: 1.5;
      color: var(--text-color);
      background-color: var(--background-color);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    .container {
      max-width: 450px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
      width: 100%;
    }
    
    .paper {
      background-color: #fff;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
      padding: 2rem;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .header {
      margin-bottom: 2rem;
      text-align: center;
    }
    
    .welcome {
      font-size: 1rem;
      font-weight: 400;
      color: var(--text-light);
      margin-bottom: 0.5rem;
    }
    
    .title {
      font-size: 1.75rem;
      font-weight: 500;
      color: var(--text-color);
      margin-bottom: 1.5rem;
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 0.875rem;
      color: var(--text-color);
    }
    
    .form-control {
      display: block;
      width: 100%;
      padding: 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      color: var(--text-color);
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid rgba(0, 0, 0, 0.12);
      border-radius: 0.25rem;
      transition: border-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
    }
    
    .form-control:focus {
      border-color: var(--primary-color);
      outline: 0;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-sizing: border-box;
      outline: 0;
      border: 0;
      cursor: pointer;
      user-select: none;
      vertical-align: middle;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.875rem;
      line-height: 1.75;
      letter-spacing: 0.02857em;
      min-width: 64px;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
      color: #fff;
      height: 48px;
    }
    
    .btn-primary {
      background-color: var(--primary-color);
      width: 100%;
    }
    
    .btn-primary:hover {
      background-color: var(--primary-dark);
    }
    
    .error-message {
      color: var(--error-color);
      margin-top: 0.5rem;
      font-size: 0.75rem;
    }
    
    .signup-link {
      margin-top: 1.5rem;
      text-align: center;
      font-size: 0.875rem;
      color: var(--text-light);
    }
    
    .signup-link a {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
    }
    
    .signup-link a:hover {
      text-decoration: underline;
    }
    
    .auth0-spinner {
      display: inline-block;
      margin: 0 auto;
      width: 40px;
      height: 40px;
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-left-color: var(--primary-color);
      border-radius: 50%;
      animation: auth0-spinner 1s linear infinite;
    }
    
    @keyframes auth0-spinner {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      width: 100%;
    }

    .icon-input {
      position: relative;
    }

    .icon-input span {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #999;
    }

    .icon-input input {
      padding-left: 40px;
    }

    /* Form switch styles */
    .form-switch {
      display: flex;
      margin-bottom: 2rem;
      justify-content: center;
      position: relative;
      border-radius: 50px;
      background-color: #f1f1f1;
      padding: 4px;
      width: 100%;
      max-width: 300px;
      margin-left: auto;
      margin-right: auto;
    }

    .switch-option {
      padding: 10px 0;
      width: 50%;
      text-align: center;
      cursor: pointer;
      border-radius: 50px;
      transition: all 0.3s ease;
      font-weight: 500;
      font-size: 0.9rem;
      z-index: 1;
      position: relative;
    }

    .switch-option.active {
      color: white;
    }

    .switch-slider {
      position: absolute;
      top: 4px;
      left: 4px;
      width: calc(50% - 4px);
      height: calc(100% - 8px);
      background-color: var(--primary-color);
      border-radius: 50px;
      transition: all 0.3s ease;
    }

    .switch-slider.register {
      left: calc(50% + 0px);
    }

    .form-checkbox {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }

    .form-checkbox input {
      margin-right: 10px;
    }

    .form-checkbox label {
      font-size: 0.875rem;
      color: var(--text-color);
    }

    .form-checkbox a {
      color: var(--primary-color);
      text-decoration: none;
    }

    .form-checkbox a:hover {
      text-decoration: underline;
    }

    .hide {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="paper">
      <div class="header">
        <p class="welcome">Bem-vindo!</p>
        <h1 class="title">Estamos te aguardando</h1>
      </div>
      
      <div class="form-switch">
        <div class="switch-slider" id="formSlider"></div>
        <div class="switch-option active" id="loginOption">Login</div>
        <div class="switch-option" id="registerOption">Cadastrar</div>
      </div>
      
      <div id="login-container">
        <form id="login-form">
          <div class="form-group">
            <label class="form-label" for="matricula">E-Mail</label>
            <div class="icon-input">
              <span class="material-icons">email</span>
              <input type="email" id="matricula" class="form-control" placeholder="seu@email.com" required>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="password">Senha</label>
            <div class="icon-input">
              <span class="material-icons">lock</span>
              <input type="password" id="password" class="form-control" placeholder="Sua senha" required>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="token">Token</label>
            <div class="icon-input">
              <span class="material-icons">vpn_key</span>
              <input type="password" id="token" class="form-control" placeholder="Token de acesso">
            </div>
          </div>
          
          <button type="submit" class="btn btn-primary">Entrar</button>
        </form>
      </div>
      
      <div id="register-container" class="hide">
        <form id="register-form">
          <div class="form-group">
            <label class="form-label" for="register-name">Nome Completo</label>
            <div class="icon-input">
              <span class="material-icons">person</span>
              <input type="text" id="register-name" class="form-control" placeholder="Seu nome completo" required>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="register-email">E-Mail</label>
            <div class="icon-input">
              <span class="material-icons">email</span>
              <input type="email" id="register-email" class="form-control" placeholder="seu@email.com" required>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="register-password">Senha</label>
            <div class="icon-input">
              <span class="material-icons">lock</span>
              <input type="password" id="register-password" class="form-control" placeholder="Sua senha" required>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="register-confirm-password">Confirmar Senha</label>
            <div class="icon-input">
              <span class="material-icons">lock</span>
              <input type="password" id="register-confirm-password" class="form-control" placeholder="Confirme sua senha" required>
            </div>
          </div>
          
          <div class="form-checkbox">
            <input type="checkbox" id="terms" required>
            <label for="terms">Eu aceito os <a href="#" target="_blank">Termos de Serviço</a> e <a href="#" target="_blank">Política de Privacidade</a></label>
          </div>
          
          <button type="submit" class="btn btn-primary">Cadastrar</button>
        </form>
      </div>
      
      <div id="loading" class="loading" style="display: none;">
        <div class="auth0-spinner"></div>
      </div>
    </div>

    <div class="signup-link" id="login-link">
      Ainda não é um membro? <a href="#" id="show-register">Crie sua conta aqui</a> →
    </div>
    
    <div class="signup-link hide" id="register-link">
      Já possui uma conta? <a href="#" id="show-login">Entrar aqui</a> →
    </div>
  </div>

  <script>
    // Form switching logic
    const loginOption = document.getElementById('loginOption');
    const registerOption = document.getElementById('registerOption');
    const formSlider = document.getElementById('formSlider');
    const loginContainer = document.getElementById('login-container');
    const registerContainer = document.getElementById('register-container');
    const loginLink = document.getElementById('login-link');
    const registerLink = document.getElementById('register-link');
    const showRegister = document.getElementById('show-register');
    const showLogin = document.getElementById('show-login');
    
    function showLoginForm() {
      loginOption.classList.add('active');
      registerOption.classList.remove('active');
      formSlider.classList.remove('register');
      loginContainer.classList.remove('hide');
      registerContainer.classList.add('hide');
      loginLink.classList.remove('hide');
      registerLink.classList.add('hide');
    }
    
    function showRegisterForm() {
      loginOption.classList.remove('active');
      registerOption.classList.add('active');
      formSlider.classList.add('register');
      loginContainer.classList.add('hide');
      registerContainer.classList.remove('hide');
      loginLink.classList.add('hide');
      registerLink.classList.remove('hide');
    }
    
    loginOption.addEventListener('click', showLoginForm);
    registerOption.addEventListener('click', showRegisterForm);
    showRegister.addEventListener('click', function(e) {
      e.preventDefault();
      showRegisterForm();
    });
    showLogin.addEventListener('click', function(e) {
      e.preventDefault();
      showLoginForm();
    });
    
    // Auth0 Lock configuration
    window.addEventListener('load', function() {
      var config = JSON.parse(decodeURIComponent(escape(window.atob('@@config@@'))));
      var login = new Auth0Lock(config.clientID, config.auth0Domain, {
        auth: {
          redirectUrl: config.callbackURL,
          responseType: 'code',
          params: config.internalOptions
        },
        assetsUrl: config.assetsUrl,
        allowedConnections: config.allowedConnections,
        rememberLastLogin: !config.extraParams.no_prompt,
        language: 'pt-br',
        languageBaseUrl: config.languageBaseUrl,
        theme: {
          logo: '',
          primaryColor: '#47A248'
        },
        prefill: config.prefill,
        closable: false,
        defaultADUsernameFromEmailPrefix: config.defaultADUsernameFromEmailPrefix,
        overrides: {
          __tenant: config.auth0Tenant,
          __token_issuer: config.authorizationServer.issuer
        },
        mustAcceptTerms: !!config.mustAcceptTerms,
        additionalSignUpFields: config.additionalSignUpFields,
        wrapConfiguration: config.wrapConfiguration
      });

      // Handle login form submission
      document.getElementById('login-form').addEventListener('submit', function(e) {
        e.preventDefault();
        document.getElementById('loading').style.display = 'flex';
        
        const matricula = document.getElementById('matricula').value;
        const password = document.getElementById('password').value;
        
        login.show({
          allowedConnections: ['Username-Password-Authentication'],
          initialScreen: 'login',
          prefill: {
            email: matricula
          }
        });
        
        // Trigger login programmatically
        setTimeout(function() {
          login.emit('show login');
          document.getElementsByClassName('auth0-lock-input-password')[0].value = password;
          document.getElementsByClassName('auth0-lock-submit')[0].click();
        }, 500);
      });
      
      // Handle register form submission
      document.getElementById('register-form').addEventListener('submit', function(e) {
        e.preventDefault();
        document.getElementById('loading').style.display = 'flex';
        
        const name = document.getElementById('register-name').value;
        const email = document.getElementById('register-email').value;
        const password = document.getElementById('register-password').value;
        const confirmPassword = document.getElementById('register-confirm-password').value;
        
        // Validate password match
        if (password !== confirmPassword) {
          alert('As senhas não conferem.');
          document.getElementById('loading').style.display = 'none';
          return;
        }
        
        login.show({
          allowedConnections: ['Username-Password-Authentication'],
          initialScreen: 'signUp',
          prefill: {
            email: email,
            password: password
          }
        });
        
        // Trigger signup programmatically
        setTimeout(function() {
          login.emit('show signup');
          
          // Fill the form inputs
          const inputs = document.getElementsByClassName('auth0-lock-input');
          for (let i = 0; i < inputs.length; i++) {
            const input = inputs[i];
            if (input.name === 'email') {
              input.value = email;
            } else if (input.name === 'password') {
              input.value = password;
            } else if (input.name.includes('name')) {
              input.value = name;
            }
          }
          
          // Click the signup button
          document.getElementsByClassName('auth0-lock-submit')[0].click();
        }, 500);
      });
    });
  </script>
</body>
</html> 